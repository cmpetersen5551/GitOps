# VolSync Syncthing ReplicationSource for Sonarr primary node
# This syncs pvc-sonarr (primary) with pvc-sonarr-backup (backup)
apiVersion: volsync.backube/v1alpha1
kind: ReplicationSource
metadata:
  name: sonarr-primary
  namespace: media
spec:
  sourcePVC: pvc-sonarr
  syncthing:
    serviceType: ClusterIP
    # Will be populated with peer info once backup ReplicationSource is deployed
    # peers:
    # - ID: <backup-syncthing-id>
    #   address: tcp://<backup-service-address>:22000
    #   introducer: false
---
# VolSync Syncthing ReplicationSource for Sonarr backup node
# This is the peer that syncs with the primary
apiVersion: volsync.backube/v1alpha1
kind: ReplicationSource
metadata:
  name: sonarr-backup
  namespace: media
spec:
  sourcePVC: pvc-sonarr-backup
  syncthing:
    serviceType: ClusterIP
    # Will be populated with peer info once primary ReplicationSource is deployed
    # peers:
    # - ID: <primary-syncthing-id>
    #   address: tcp://<primary-service-address>:22000
    #   introducer: false
